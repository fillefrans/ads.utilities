var locations = new Array();
locations.push({id:'1315', name:'Askim Elektriske AS', adress: 'Henstad alle 1A', lat: '59.58418', lng: '11.16614'}); 
locations.push({id:'1170', name:'Expert Fredrikstad ', adress: 'Dikevn. 8', lat: '59.24485', lng: '10.98454'}); 
locations.push({id:'1127', name:'Expert Moss ', adress: 'Carlbergveien 2', lat: '59.41611', lng: '10.68314'}); 
locations.push({id:'1173', name:'Expert Sarpsborg ', adress: 'Klokkergårdvn. 32', lat: '59.27547', lng: '11.08642'}); 
locations.push({id:'1132', name:'Expert Svinesundsparken', adress: 'Svinesundsparken 1', lat: '59.12881', lng: '11.27342'}); 
locations.push({id:'1429', name:'Spektrum A/S', adress: 'Klostergt. 19', lat: '59.43027', lng: '10.67009'}); 
locations.push({id:'1608', name:'Expert Eidsvoll', adress: 'Trondheimsveien 266', lat: '60.28658', lng: '11.17176'}); 
locations.push({id:'1191', name:'Expert Asker ', adress: 'Knud Askersvei 26', lat: '59.83669', lng: '10.4342'}); 
locations.push({id:'1134', name:'Expert Drøbak', adress: 'Drøbak City', lat: '59.67433', lng: '10.65674'}); 
locations.push({id:'1121', name:'Expert Holmen ', adress: 'Vogellund 31', lat: '59.85478', lng: '10.4815'}); 
locations.push({id:'1117', name:'Expert Jessheim ', adress: 'Gystadparken', lat: '60.14156', lng: '11.19122'}); 
locations.push({id:'1114', name:'Expert Kløfta', adress: 'Romerikssenteret', lat: '60.07613', lng: '11.13612'}); 
locations.push({id:'1187', name:'Expert Kolbotn ', adress: 'Kolbotnveien 25', lat: '59.81038', lng: '10.7981'}); 
locations.push({id:'1118', name:'Expert Lillestrøm ', adress: 'Stillverksveien 9', lat: '59.95298', lng: '11.04751'}); 
locations.push({id:'1183', name:'Expert Metro Lørenskog ', adress: 'Solheimsveien 85', lat: '59.92725', lng: '10.95609'}); 
locations.push({id:'1125', name:'Expert Ski ', adress: 'Åsenveien 5', lat: '59.7183', lng: '10.83932'}); 
locations.push({id:'1548', name:'Expert Årnes', adress: 'Lilandgården', lat: '60.12369', lng: '11.46854'}); 
locations.push({id:'1635', name:'Expert Bjørkelangen', adress: '', lat: '59.88409', lng: '11.57047'}); 
locations.push({id:'1122', name:'Expert Alnabru', adress: 'Strømsveien 258', lat: '59.9284', lng: '10.84673'}); 
locations.push({id:'1130', name:'Expert City ', adress: 'Dronningensgt. 40', lat: '59.91252', lng: '10.74882'}); 
locations.push({id:'1131', name:'Expert Colosseum ', adress: 'Sørkedalsveien 6', lat: '59.93083', lng: '10.71212'}); 
locations.push({id:'1175', name:'Expert Grünerløkka', adress: 'Markvn. 60', lat: '59.9188', lng: '10.75749'}); 
locations.push({id:'1176', name:'Expert Hasle ', adress: 'Grenseveien 50', lat: '59.92357', lng: '10.79279'}); 
locations.push({id:'1189', name:'Expert Klingenberg ', adress: 'Klingenberggt. 4', lat: '59.91369', lng: '10.7337'}); 
locations.push({id:'1186', name:'Expert Skøyen ', adress: 'Karenslyst Alle 44-46', lat: '59.92136', lng: '10.68057'}); 
locations.push({id:'1115', name:'Expert Storo ', adress: 'Vitaminveien 11', lat: '59.94714', lng: '10.77316'}); 
locations.push({id:'1139', name:'Expert Stovner ', adress: 'Stovner Senter 3', lat: '59.96215', lng: '10.92453'}); 
locations.push({id:'1116', name:'Expert Økern', adress: 'Økernvn. 145', lat: '59.92855', lng: '10.80467'}); 
locations.push({id:'1496', name:'Expert Vinderen', adress: 'Borgenveien 54', lat: '59.94359', lng: '10.70366'}); 
locations.push({id:'1533', name:'Expert Tynset', adress: 'Brugata 20', lat: '62.27863', lng: '10.77358'}); 
locations.push({id:'1181', name:'Expert Brumunddal ', adress: 'Furnesvegen 20B', lat: '60.88479', lng: '10.94628'}); 
locations.push({id:'1129', name:'Expert Elverum ', adress: 'Torolf Storsveens veg 17', lat: '', lng: ''}); 
locations.push({id:'1126', name:'Expert Hamar ', adress: 'Vangsvegen 91', lat: '60.79616', lng: '11.08343'}); 
locations.push({id:'1177', name:'Expert Kongsvinger ', adress: 'Industrivn. 43', lat: '60.20431', lng: '11.97247'}); 
locations.push({id:'1492', name:'Expert Skarnes', adress: 'Silovn. 20', lat: '60.24921', lng: '11.67615'}); 
locations.push({id:'1543', name:'Expert Dokka', adress: 'Storgt. 46', lat: '60.83611', lng: '10.07166'}); 
locations.push({id:'1179', name:'Expert Gjøvik CC ', adress: 'Jernbanesvingen 6', lat: '60.79999', lng: '10.69364'}); 
locations.push({id:'1178', name:'Expert Gjøvik Kallerud ', adress: 'Kallerudlia 4', lat: '60.7845', lng: '10.67316'}); 
locations.push({id:'1137', name:'Expert Gran', adress: ' ', lat: '60.354874', lng: '10.5742'}); 
locations.push({id:'1159', name:'Expert Leira ', adress: 'Valdres Storsenter', lat: '60.97109', lng: '9.289574'}); 
locations.push({id:'1461', name:'Gjøvik Elektriske AS', adress: 'Hunnsvn. 3', lat: '60.79582', lng: '10.69222'}); 
locations.push({id:'1525', name:'Expert Lillehammer', adress: 'Gudbrandsdalveien 194', lat: '', lng: '61.12889'}); 
locations.push({id:'1606', name:'Expert Skjåk', adress: 'Bismo', lat: '61.87606', lng: '8.366609'}); 
locations.push({id:'1413', name:'Expert Skogvang', adress: '0', lat: '61.22746', lng: '10.22446'}); 
locations.push({id:'1472', name:'Expert Bagn', adress: 'Valdrestunet', lat: '60.8229', lng: '9.553785'}); 
locations.push({id:'1434', name:'Expert Lena', adress: '0', lat: '60.67432', lng: '10.81282'}); 
locations.push({id:'1555', name:'Expert Vinstra', adress: 'Nedregata 1', lat: '', lng: '61.58947'}); 
locations.push({id:'1459', name:'Borge Butikk A/S', adress: 'Sundemoen Næringspark', lat: '59.76764', lng: '9.901067'}); 
locations.push({id:'1439', name:'Expert Geilo', adress: '', lat: '60.52858', lng: '8.209253'}); 
locations.push({id:'1123', name:'Expert Drammen ', adress: 'Ing. Rybergsgt. 14', lat: '59.75314', lng: '10.13363'}); 
locations.push({id:'1128', name:'Expert Hønefoss', adress: 'Dronning Åstasgt. 14', lat: '60.15313', lng: '10.25112'}); 
locations.push({id:'1188', name:'Expert Mjøndalen ', adress: 'Orkidee høgda 14', lat: '59.74754', lng: '10.02514'}); 
locations.push({id:'1482', name:'Expert Hemsedal', adress: 'Trøym', lat: '60.86137', lng: '8.570997'}); 
locations.push({id:'1381', name:'Ivars Elektro Åmot AS', adress: 'Åmotsenteret', lat: '59.89296', lng: '9.925966'}); 
locations.push({id:'1442', name:'Expert Kongsberg', adress: 'Dyrmyrgaten 2', lat: '59.67152', lng: '9.646885'}); 
locations.push({id:'1619', name:'Expert Kanalen Tønsberg', adress: 'Kanalveien 5', lat: '59.25965', lng: '10.4169'}); 
locations.push({id:'1629', name:'Expert Sentrum', adress: 'Dronningensgt. 1 A', lat: '59.13008', lng: '10.22131'}); 
locations.push({id:'1147', name:'Expert Holmestrand ', adress: 'Hvittingfossveien 117', lat: '59.48907', lng: '10.29679'}); 
locations.push({id:'1437', name:'Expert Horten ', adress: 'Trimveien 41', lat: '', lng: '59.40132'}); 
locations.push({id:'1154', name:'Expert Jarlsberg ', adress: 'Travveien 4', lat: '59.28126', lng: '10.36621'}); 
locations.push({id:'1146', name:'Expert Larvik', adress: 'Prinsegt. 3-5', lat: '59.05272', lng: '10.02926'}); 
locations.push({id:'1493', name:'Expert Revetal AS', adress: '', lat: '59.37091', lng: '10.26457'}); 
locations.push({id:'1148', name:'Expert Sandefjord ', adress: 'Skiringssalsveien 9', lat: '59.13663', lng: '10.21438'}); 
locations.push({id:'1145', name:'Expert Tønsberg ', adress: 'Heimdalssvingen 3', lat: '59.27245', lng: '10.42759'}); 
locations.push({id:'1300', name:'Helge Abrahamsen A/S', adress: 'Storgaten 28', lat: '59.22355', lng: '10.29623'}); 
locations.push({id:'1618', name:'Expert Bø', adress: 'Stasjonsveien 17', lat: '59.4113', lng: '9.067733'}); 
locations.push({id:'1465', name:'Drangedal Elektriske AS', adress: 'Kåsmyra', lat: '59.08921', lng: '9.065272'}); 
locations.push({id:'1138', name:'Expert Porsgrunn', adress: 'Skippergt. 14', lat: '59.13484', lng: '9.639567'}); 
locations.push({id:'1153', name:'Expert Skien', adress: 'Kjørbekkdalen 19', lat: '59.17349', lng: '9.614254'}); 
locations.push({id:'1452', name:'Jensen Elektriske A/S', adress: 'Kongensgt. 12', lat: '59.20999', lng: '9.608841'}); 
locations.push({id:'1614', name:'Kviteseid Radio & TV AS', adress: 'Kviteseid gt. 36', lat: '59.40148', lng: '8.490533'}); 
locations.push({id:'1404', name:'Expert Brotorget', adress: 'Gangvn. 10', lat: '59.04587', lng: '9.693864'}); 
locations.push({id:'1426', name:'Seljord Elektriske A/S', adress: '0', lat: '59.4827', lng: '8.631881'}); 
locations.push({id:'1427', name:'Seljord Radio & TV A/S', adress: 'Telesenteret', lat: '59.48148', lng: '8.629331'}); 
locations.push({id:'1610', name:'Expert Risør', adress: 'Østebø', lat: '58.715', lng: '9.17615'}); 
locations.push({id:'1152', name:'Expert Grimstad ', adress: 'Odden 2', lat: '58.33728', lng: '8.592524'}); 
locations.push({id:'1156', name:'Expert Stoa ', adress: '', lat: '58.46332', lng: '8.712649'}); 
locations.push({id:'1607', name:'Expert Åmli', adress: '0', lat: '58.766', lng: '8.483366'}); 
locations.push({id:'1547', name:'Kjøkken-Centeret Lillesand A/S', adress: 'Tingsaker Lillesand Senter', lat: '58.2623', lng: '8.396653'}); 
locations.push({id:'1455', name:'Tveit Elektro', adress: 'Brogaten 21', lat: '58.29665', lng: '6.662773'}); 
locations.push({id:'1151', name:'Expert Koestøl', adress: 'Skippergt. 14-16', lat: '58.14645', lng: '7.992602'}); 
locations.push({id:'1150', name:'Expert Sørlandsparken', adress: 'Barstølvn. 60A', lat: '58.17759', lng: '8.132789'}); 
locations.push({id:'1545', name:'Lister Elektro AS avd. Farsund', adress: 'Torvgaten 1', lat: '58.09499', lng: '6.803711'}); 
locations.push({id:'1544', name:'"Lister Elektro AS', adress: ' avd. Lyngdal', lat: '', lng: '58.13778'}); 
locations.push({id:'1598', name:'Expert Mandal', adress: 'Langgt. 15', lat: '', lng: '58.02394'}); 
locations.push({id:'1597', name:'Expert Mandal', adress: 'Store Elvegate 106', lat: '', lng: '58.03041'}); 
locations.push({id:'1391', name:'Nils Kloster AS', adress: 'Liknes', lat: '58.31549', lng: '6.963574'}); 
locations.push({id:'1463', name:'Søgne Elektromarked A/S', adress: 'Kleplandsveien 1 B', lat: '58.09788', lng: '7.817454'}); 
locations.push({id:'1344', name:'Expert Haugesund', adress: 'Raglamyrvn. 3', lat: '59.39558', lng: '5.320581'}); 
locations.push({id:'1345', name:'Expert Forus Tvedtsenteret', adress: 'Lagervn. 7', lat: '58.896', lng: '5.703797'}); 
locations.push({id:'1550', name:'Expert Nærbø', adress: 'Torggt. 2', lat: '5.703797', lng: '5.641116'}); 
locations.push({id:'1110', name:'Expert Forus', adress: 'Stokkamyrvn. 7', lat: '58.88086', lng: '5.721631'}); 
locations.push({id:'1559', name:'Expert Labyrinten', adress: 'Rådhusgaten 18', lat: '59.02125', lng: '6.040396'}); 
locations.push({id:'1113', name:'Expert Mariero', adress: 'Langflåtveien 21', lat: '59.02125', lng: '6.040396'}); 
locations.push({id:'1112', name:'Expert Straen ', adress: 'Lars Hertervigsgt. 6', lat: '58.96991', lng: '5.727776'}); 
locations.push({id:'1352', name:'Expert Skudeneshavn', adress: 'Kirkeveien 10', lat: '59.14975', lng: '5.25915'}); 
locations.push({id:'1634', name:'Expert Maxi Sandnes', adress: 'Gravarsveien 7', lat: '58.84886', lng: '5.739541'}); 
locations.push({id:'1376', name:'Pedersen Radio & TV Service', adress: 'Rådhusgaten 6', lat: '59.02296', lng: '6.041447'}); 
locations.push({id:'1388', name:'Sandnes Elektriske Forr. A/S', adress: 'Langgt. 87', lat: '58.85549', lng: '5.739816'}); 
locations.push({id:'1409', name:'Th. Thormodsen jr. A/S', adress: 'Østervåg 16', lat: '58.9718', lng: '5.73486'}); 
locations.push({id:'1343', name:'Expert Heiane', adress: 'Meatjønnshaugen 10', lat: '59.76254', lng: '5.452992'}); 
locations.push({id:'1538', name:'Expert Husnes', adress: 'Senteret', lat: '59.86', lng: '5.755239'}); 
locations.push({id:'1347', name:'Etne Elektrosenter A/S', adress: 'Gjerde', lat: '59.65889', lng: '5.929481'}); 
locations.push({id:'1105', name:'Expert Drotningsvik', adress: 'Drotningsvikvn. 132', lat: '60.37205', lng: '5.180267'}); 
locations.push({id:'1102', name:'Expert Fana', adress: 'Nordåsdalen 26', lat: '60.30816', lng: '5.326974'}); 
locations.push({id:'1108', name:'Expert Knarvik', adress: 'Kvernhusmyrane 7A', lat: '60.54615', lng: '5.286944'}); 
locations.push({id:'1464', name:'Expert Rosendal', adress: 'Vangstunet', lat: '59.98559', lng: '6.011218'}); 
locations.push({id:'1106', name:'Expert Sentrum', adress: 'Strandgt. 55-57', lat: '60.39507', lng: '5.31918'}); 
locations.push({id:'1109', name:'Expert Vestkanten', adress: 'Loddefjordvn. 2', lat: '60.36322', lng: '5.233617'}); 
locations.push({id:'1101', name:'Expert Åsane', adress: 'Senter Åsane 50', lat: '60.46783', lng: '5.323586'}); 
locations.push({id:'1620', name:'Expert Odda', adress: 'Røldalsveien 31', lat: '60.06815', lng: '6.547004'}); 
locations.push({id:'1395', name:'Ing. A. Slettens Eftf. A/S.', adress: 'Østre Nesttunveg 12', lat: '60.31782', lng: '5.354288'}); 
locations.push({id:'1385', name:'Janco Elektro A/S', adress: 'Juvikflaten', lat: '60.43021', lng: '5.190197'}); 
locations.push({id:'1356', name:'Kvam Elektro', adress: 'Hardangerfjordvegen 642', lat: '60.38789', lng: '6.205165'}); 
locations.push({id:'1497', name:'Expert Voss', adress: 'Brynamoen 8', lat: '60.63562', lng: '6.458007'}); 
locations.push({id:'1358', name:'Stomas Butikk A/S', adress: 'Torget 8', lat: '59.78166', lng: '5.500309'}); 
locations.push({id:'1160', name:'Expert Breivika Ålesund ', adress: 'Høgvollvn. 8', lat: '62.47075', lng: '6.35428'}); 
locations.push({id:'1164', name:'Expert Løkkemyra ', adress: 'Verkstedveien 5', lat: '63.1096', lng: '7.77505'}); 
locations.push({id:'1161', name:'Expert Moa', adress: 'Amfisenteret Moa Gård', lat: '62.46559', lng: '6.355585'}); 
locations.push({id:'1169', name:'Expert Molde ', adress: 'Birger Hatlebakksvei 1-5', lat: '62.73877', lng: '7.188594'}); 
locations.push({id:'1162', name:'Expert Sentrum Ålesund ', adress: 'Skaregaten 1', lat: '62.47474', lng: '6.157024'}); 
locations.push({id:'1167', name:'Expert Sunndalsøra ', adress: 'Killurd gata 1', lat: '62.67511', lng: '8.565237'}); 
locations.push({id:'1165', name:'Expert Sykkylven ', adress: 'Skulegata', lat: '62.39001', lng: '6.579198'}); 
locations.push({id:'1615', name:'Expert Surnadal', adress: 'Øravegen 6', lat: '62.97002', lng: '8.712886'}); 
locations.push({id:'1494', name:'Radio TV Service A/S', adress: '0', lat: '62.62196', lng: '7.092723'}); 
locations.push({id:'1532', name:'Expert Oppdal', adress: 'Dovreveien 2', lat: '62.59448', lng: '9.690232'}); 
locations.push({id:'1142', name:'Expert Lade ', adress: 'Håkon VII. gt. 12', lat: '63.44018', lng: '10.46252'}); 
locations.push({id:'1143', name:'Expert Sluppen', adress: 'Sluppenveien 2', lat: '63.39876', lng: '10.40341'}); 
locations.push({id:'1144', name:'Expert Tiller ', adress: 'Ivar Lykkesvei 9', lat: '63.35628', lng: '10.37409'}); 
locations.push({id:'1631', name:'Expert Støren', adress: 'Domussenteret', lat: '59.320235', lng: '8.994715'}); 
locations.push({id:'1632', name:'Expert Hemne', adress: 'Industriveien 1', lat: '63.29343', lng: '9.083979'}); 
locations.push({id:'1500', name:'Expert Hitra', adress: 'Fillan Sentrum', lat: '63.60092', lng: '8.977417'}); 
locations.push({id:'1326', name:'Expert Orkanger', adress: 'Mælaveien 6', lat: '63.29773', lng: '9.852258'}); 
locations.push({id:'1587', name:'Melhus Elektromarked AS', adress: 'Melhustorget', lat: '63.28619', lng: '10.27932'}); 
locations.push({id:'1578', name:'NTE Expert Midtbyen', adress: '', lat: '63.432041', lng: '10.395680'}); 
locations.push({id:'1542', name:'Expert Rissa', adress: 'Leira', lat: '63.59879', lng: '10.00145'}); 
locations.push({id:'1570', name:'NTE Expert Flatanger', adress: '', lat: '64.5009', lng: '10.89616'}); 
locations.push({id:'1572', name:'NTE Expert Grong', adress: 'Grong', lat: '64.46545', lng: '12.3181'}); 
locations.push({id:'1579', name:'NTE Expert Leka', adress: 'Leka', lat: '65.09181', lng: '11.70536'}); 
locations.push({id:'1580', name:'NTE Expert Leksvik', adress: 'Sentrumsgården', lat: '63.67269', lng: '10.627'}); 
locations.push({id:'1574', name:'NTE Expert Lierne', adress: '', lat: '64.46571', lng: '13.5934'}); 
locations.push({id:'1575', name:'NTE Expert Limingen', adress: 'Limingen', lat: '64.7059', lng: '13.73928'}); 
locations.push({id:'1567', name:'NTE Expert Malm', adress: 'Strandvn. 7', lat: '64.07307', lng: '11.22015'}); 
locations.push({id:'1584', name:'NTE Expert Namsos', adress: 'Sandsgaten 4', lat: '64.467941', lng: '11.494070'}); 
locations.push({id:'1577', name:'NTE Expert Rørvik', adress: 'Strandgt. 4', lat: '64.86288', lng: '11.23125'}); 
locations.push({id:'1566', name:'NTE Expert Sakshaug/Inderøy', adress: 'Inderøy', lat: '63.87331', lng: '11.29062'}); 
locations.push({id:'1569', name:'NTE Expert Snåsa', adress: '', lat: '64.22491', lng: '12.41313'}); 
locations.push({id:'1583', name:'NTE Expert Stjørdal', adress: 'Torgkvartalet', lat: '63.46618', lng: '10.91627'}); 
locations.push({id:'1586', name:'NTE Expert Stormarked Levanger', adress: 'Moafjæra 6', lat: '63.73687', lng: '63.73687'}); 
locations.push({id:'1582', name:'NTE Expert Stormarked Steinkjer', adress: 'Sjøfartsgt. 5B', lat: '64.01017', lng: '11.48937'}); 
locations.push({id:'1581', name:'NTE Expert Vanvikan', adress: 'Vanvikan', lat: '63.55383', lng: '10.21125'}); 
locations.push({id:'1630', name:'Expert Byport', adress: 'Terminalveien 5', lat: '66.30575', lng: '14.13116'}); 
locations.push({id:'1311', name:'Expert Bodø', adress: 'Prof. Schyttesgt. 3', lat: '67.28322', lng: '14.37924'}); 
locations.push({id:'1595', name:'Elektroland AS', adress: 'Nyrudvn. 4', lat: '65.83292', lng: '13.21362'}); 
locations.push({id:'1479', name:'Elektrosenteret A/S', adress: 'Sjøgt. 60', lat: '67.25795', lng: '15.38957'}); 
locations.push({id:'1628', name:'Expert Leknes', adress: 'Lofotsenteret', lat: '', lng: '68.14827'}); 
locations.push({id:'1502', name:'Mathisen Drift A/S', adress: 'Havnegt.9', lat: '66.02158', lng: '12.62887'}); 
locations.push({id:'1503', name:'Mo Elektriske Byrå AS', adress: 'Nordahl Griegs. gt. 5/7', lat: '66.310513', lng: '14.137898'}); 
locations.push({id:'1476', name:'Expert Narvik', adress: 'Bolagsgt.20', lat: '68.43591', lng: '17.41169'}); 
locations.push({id:'1522', name:'Rognan Elsenter AS', adress: 'Jernbanegt. 13 - 15', lat: '67.10217', lng: '15.39264'}); 
locations.push({id:'1398', name:'Sortland Elektro AS', adress: 'Kjøpmannsgt. 10', lat: '68.6941', lng: '15.41424'}); 
locations.push({id:'1415', name:'Expert Svolvær', adress: 'Valgata 5', lat: '68.23483', lng: '14.5591'}); 
locations.push({id:'1596', name:'Expert Storslett', adress: '', lat: '69.76765', lng: '21.0124'}); 
locations.push({id:'1623', name:'Expert Langnes', adress: 'Heiloveien 20', lat: '69.67608', lng: '18.92694'}); 
locations.push({id:'1625', name:'Expert Sentrum', adress: 'Storgt. 56', lat: '69.64877', lng: '18.95462'}); 
locations.push({id:'1627', name:'Expert Amfi Finnsnes', adress: 'Storgt. 7', lat: '69.22923', lng: '17.98027'}); 
locations.push({id:'1366', name:'Expert Finnsnes', adress: 'Refasenteret', lat: '', lng: '69.23722'}); 
locations.push({id:'1369', name:'Ness & Lind A/S', adress: 'Bårnakkveien 1', lat: '68.79071', lng: '16.53555'}); 
locations.push({id:'1633', name:'Expert Alta', adress: '', lat: '69.967208', lng: '23.268476'}); 
locations.push({id:'1560', name:'Elektrohuset Kirkenes AS', adress: 'Dr. Wesselsgate 8', lat: '69.72753', lng: '30.04182'}); 
locations.push({id:'1302', name:'Porsanger Elektrosenter AS', adress: 'Torget', lat: '70.05194', lng: '24.95943'}); 
locations.push({id:'1611', name:'Expert Vadsø', adress: 'Tollbugata 11', lat: '70.07383', lng: '29.74848'});
locations.push({id:'2001', name:'VG', adress: 'Akersgata 55', lat: '59.915171', lng: '10.743764'});
locations.push({id:'3002', name:'McDonalds', adress: 'Akersgata 55', lat: '59.912973', lng: '10.743228'});

http://maps.google.com/maps?q=VG,+Akersgata,+Oslo,+Norge&hl=sv&sll=37.0625,-95.677068&sspn=35.410182,70.224609&oq=VG,+&hq=VG,+Akersgata,+Oslo,+Norge&t=m&z=14

/*********************************
** Set up google maps
*********************************/
var googleMaps = function() {

	var map;
	var myMarker = null;
    var myLatlng = 0;
    var browserSupportFlag = false;

    var init = function(lat, lng) {
	
        myLatlng = new google.maps.LatLng(lat, lng);

        var myOptions = {
            mapTypeId: google.maps.MapTypeId.ROADMAP,
            disableDefaultUI: true,
            navigationControl: true,
            scrollwheel: false,
            streetViewControl: false,
        }

        map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);

	 	google.maps.event.addListener(map, 'bounds_changed', function() {
	 		redrawMarkers(locations, myLatlng);
	 	});
	
		$('#spinner').attr('src', 'ajax-loader.gif'); 

		///////////////
        // geolocation
        ///////////////

        if (navigator.geolocation) {
            browserSupportFlag = true;
            navigator.geolocation.getCurrentPosition(function(position) {
                
				myLatlng = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);
				var bounds = generateBounds(locations, myLatlng);
				map.fitBounds(bounds);
				
				$('#spinner').remove();
            },
            function() {
                handleNoGeolocation(browserSupportFlag);
            });
        } else {
            browserSupportFlag = false;
            handleNoGeolocation(browserSupportFlag);
        }

    }

    function handleNoGeolocation(errorFlag) {
		$('#spinner').remove();
		alert('Finner ikke posisjon, setter til Oslo');
		var bounds = generateBounds(locations, myLatlng);
		map.fitBounds(bounds);
    }


	function distanceBetween(latLng1, latLng2) {

		// this = latLng1
		// newLatLng = latLng2
		
	    var lat1 = latLng1.lat() * Math.PI / 180.0;
	    var lat2 = latLng2.lat() * Math.PI / 180.0;
	    var lngDiff = (latLng2.lng() - latLng1.lng()) * Math.PI / 180.0;
	
	    return Math.acos(Math.sin(lat1) * Math.sin(lat2) + Math.cos(lat1)  * Math.cos(lat2) * Math.cos(lngDiff)) * 20902231.0029;
	}

	function generateBounds(locs, myPos) {
		
		var dist = 1000000;
		var currentPos = null;
		
		for (i=0; i < locs.length; i++) {

			var loc = locs[i];
			var locationLatLng = new google.maps.LatLng(loc.lat, loc.lng);
			var tmpDist = distanceBetween(myPos, locationLatLng);
			
			if (tmpDist < dist) {
				dist = tmpDist;
				currentPos = locationLatLng;
			}
			
		}
		
		var bounds = new google.maps.LatLngBounds();
		bounds.extend(currentPos);
		bounds.extend(myPos);
		
		return bounds;
	}
	
	function redrawMarkers(locs, myPos) {
		
		var bounds = map.getBounds();
		var marker, infowindow;
		
		if (!myMarker) {

				myMarker = new google.maps.Marker({
				        	position: myPos, 
				        	map: map,
				        	icon: 'runner.png'});
				
				
			var infow = new google.maps.InfoWindow({content: '<b>Her er jeg</b>'});
			
			google.maps.event.addListener(myMarker, 'click', function() {
				infow.open(map, myMarker);
			});
			
		} else {
			myMarker.setPosition(myPos);
		}
		
		for (i=0; i<locs.length; i++) {
			
			var loc = locs[i];
			var locationLatLng = new google.maps.LatLng(loc.lat, loc.lng);

			if (bounds.contains(locationLatLng) && !loc.mark) {
				
				locs[i].mark = 1;
				
				marker = new google.maps.Marker({
				        position: locationLatLng, 
				        map: map,
				        title:loc.name});
				 
				
				function binder() {
					
					var infow = new google.maps.InfoWindow({
				        content: "<b>" + loc.name + "</b><br>" + loc.adress + "<br> <a href='http://maps.google.no/maps?saddr=" + myLatlng.lat() + ',' + myLatlng.lng() + '&daddr=' + locationLatLng.lat() + ',' + locationLatLng.lng() + "'>Ta meg hit</a>"
				    });
					
					var m = marker;
					return function() {infow.open(map, m);} 
				}
				
				google.maps.event.addListener(marker, 'click', binder());

			}
			
		}
		
	}

    return {
        init: init
    }

} ();

$(document).ready(function() {
   googleMaps.init(59.914444, 10.736617);
});

